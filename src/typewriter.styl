@import 'nib'

zeroWidthSpace = '\200B'
cursorColor = rgba(orangered, .5)

tt-writer
	&
	lines
	tt-line
		display block
		clear both

	tt-line::after
		content zeroWidthSpace

	cursor
		position relative
		overflow visible
		height 100%
		width 0
		animation cursorPulse 1s infinite
		color cursorColor

		&::before
			content zeroWidthSpace
			absolute top left
			width 0
			height 100%
			box-sizing border-box
			border-left .5em solid

cursor
	&
	.active .last &
		display none

	&.active
		animation none

	&.active
	&.last
	.last &
		display inline


@keyframes cursorPulse
	0%,100%
		opacity 1
	40%
		opacity 0